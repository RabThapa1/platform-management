name: Run Azure Login with OpenID Connect
on: [push]

permissions:
      id-token: write
      contents: read
jobs:
   build-deploy:
   runs-on: ubuntu-latest
   steps:
   - name: 'AZ CLI Login'
     uses : azure/login@v1
     with:
         client-id: ${{secrets.AZURE_CLIENT_ID }}
         tenant-id: ${{ secrets.AZURE_TENANT_ID }}
         subscription-id: ${{secrets.AZURE_SUBSCRIPTION_ID }}

   - name: 'Run AZ CLI command'
       run: |
            az account show
            az group list
            pwd
